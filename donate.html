<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate - HopeLine</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Donate to a Cause</h1>
    </header>

    <nav>
        <a href="index.html">Home</a>
        <a href="donate.html">Donate</a>
        <a href="request-help.html">Request Help</a>
    </nav>

    <main>
        <section id="donationRequests">
            <h2>Donation Requests</h2>
            <div id="requestsContainer"></div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 HopeLine - For Every Need, There's a Helping Hand</p>
    </footer>

    <!-- Firebase SDK -->
    <script type="module">
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-firestore.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDnFpHmsIQPczb3dO8fMmoE7Doz8IsopvE",
            authDomain: "hope-line-4c207.firebaseapp.com",
            projectId: "hope-line-4c207",
            storageBucket: "hope-line-4c207.appspot.com",
            messagingSenderId: "459565190820",
            appId: "1:459565190820:web:10b561e8da4a5761d0a031",
            measurementId: "G-B9MNC3X4B5"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);


        async function fetchRequests() {
            const querySnapshot = await getDocs(collection(db, "requests"));
            const requestsContainer = document.getElementById("requestsContainer");

            querySnapshot.forEach((doc) => {
                const requestData = doc.data();
                const requestDiv = document.createElement("div");
                requestDiv.classList.add("request");


                const nameElement = document.createElement("h3");
                nameElement.textContent = `Name: ${requestData.name}`;
                const itemElement = document.createElement("p");
                itemElement.textContent = `Item Needed: ${requestData.item}`;
                const locationElement = document.createElement("p");
                locationElement.textContent = `Location: ${requestData.location}`;

                requestDiv.appendChild(nameElement);
                requestDiv.appendChild(itemElement);
                requestDiv.appendChild(locationElement);

                requestsContainer.appendChild(requestDiv);
            });
        }

        fetchRequests();
    </script>
</body>
</html>
